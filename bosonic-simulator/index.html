<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Bosonic Simulator</title>
  <link rel="stylesheet" href="/bosonic-simulator/styles.css">
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
</head>
<body>

<!-- Spinner element - Positioned fixed at the top-right of the screen -->
<div id="spinner" class="spinner"></div>

<h1>Bosonic Simulator</h1>


  <p>This simulator allows for the following capabilities:</p>
  <ol>
    <li><strong>Preparation of Gaussian States:</strong> Prepare a <i>Gaussian state</i> from a <i>vacuum state</i> by applying Gaussian unitaries. (See section "Superposition Terms")</li>
    <li><strong>Application of Gaussian Unitaries to Superpositions:</strong> Apply Gaussian unitaries to a <i>superposition of Gaussian states</i>. (See section "Global Circuit") Perform <i>measurements</i> on the resulting state (See section "Measurements") or visualize the <i>probability density function</i> of modes (See section "Phase-Space Plots")</li>
  </ol>

  <h2>Supported Gaussian Unitaries</h2>
  <p>The following Gaussian unitaries are supported by the simulator:</p>
  <ul>
    <li><strong>n-mode displacement operators</strong> \( D(\alpha) \), where \( \alpha \in \mathbb{C}^n \)</li>
    <li><strong>Single-mode phase shifters</strong> \( F_j(\varphi) \), where \( \varphi \in \mathbb{R} \) is applied to mode \( j \in [n] \)</li>
    <li><strong>Single-mode squeezing operators</strong> \( S_j(z) \), where \( z \geq 1 \) is applied to mode \( j \in [n] \)</li>
    <li><strong>Beamsplitters</strong> \( B_{j,k}(\omega) \), where \( \omega \in \mathbb{R} \) and \( j \neq k \), applied to modes \( j, k \in [n] \)</li>
  </ul>

  <p>The group of Gaussian unitaries is generated by these operators.</p>

  <h2>Important Notes</h2>
  <ul>
    <li><strong>Input Format:</strong> Please adhere strictly to the input format.
      <ul>
        <li>Carefully read the format examples next to the input fields.</li>
        <li><i>Complex numbers</i> must be written in the form \( a + bi \), where \( a \) and \( b \) are real floats. Example: <code>1.234 + 1.234i</code> (Note: Always include the plus sign for the imaginary part and the "i" for the imaginary unit.)</li>
        <li><strong>Invalid inputs</strong> such as \( 1 \), \( 2i \), or \( 1 + i \) are <i>not allowed</i>.</li>
        <li><strong>Vector/List Format:</strong> For fields such as "Wires" or "Displacement," separate entries with commas. Example: <code>1, 2, 3, 4</code> or <code>1 + 1i, -1 + 1i, 0 + 0i</code></li>
      </ul>
    </li>
    <li><strong>Plot Rendering:</strong> Plot generation may take some time. To speed up the process, reduce the resolution. For small circuits with resolution set to 15, it should take 5-20 seconds.</li>
    <li><strong>Error Handling:</strong> In case of incorrect input, error messages are <i>not displayed</i>. If no output is produced, please verify your input.</li>
    <li><strong>Superposition Normalization:</strong> Use the <strong>"Normalize"</strong> button to automatically normalize the coefficients of a superposition of Gaussian states. (See section "Normalize Superposition Coefficients")</li>
    <li><strong>Circuit Visualization:</strong> The circuit images are generated using <strong>IBM Qiskit</strong>.</li>
    <li><strong>Simulation Algorithms:</strong> The simulation algorithms are based on the following paper:
      <blockquote>
        Beatriz Dias and Robert König, <em>Classical simulation of non-Gaussian bosonic circuits</em>, <i>Physical Review A</i>, 110:042402, October 2024.
      </blockquote>
    </li>
  </ul>

Modes:
<input id="numModes" type="number" value="4" min="1">
<button onclick="setModes()">Set</button>

<hr>

<h2>Superposition terms</h2>
<button onclick="addTerm()">Add term</button>
<div id="terms"></div>

<hr>

<h2>Normalize Superposition Coefficients</h2>
<button onclick="normalizeSuperposition()">Normalize</button>

<hr>

<h2>Global circuit</h2>
<img id="globalCircuit">

<h3>Global gates</h3>

Phase:
<input id="globalFMode" size="2">
<input id="globalFAngle" size="4">
<button onclick="addGlobalGate('F')">Add F</button>

<br><br>

Squeeze:
<input id="globalSMode" size="2">
<input id="globalSZ" size="4">
<button onclick="addGlobalGate('S')">Add S</button>

<br><br>

Displacement:
<input id="globalAlpha" value="0+0i">
<button onclick="addGlobalGate('D')">Add D</button>

<br><br>

Beamsplitter:
<input id="globalBJ" size="2" placeholder="j">
<input id="globalBK" size="2" placeholder="k">
<input id="globalBOmega" size="4" placeholder="ω">
<button onclick="addGlobalGate('B')">Add B</button>

<br><br>

<button onclick="deleteGlobalGate()">Delete last global gate</button>

<hr>

<h2>Measurement</h2>
Wires: <input id="mWires" value="0">
Amplitude: <input id="mAmp" value="1+0i">

<hr>

<button onclick="simulate()">Simulate</button>
<pre id="output"></pre>

<hr>

<h2>Phase-space plots</h2>

Wires:
<input id="plotWires" value="0">

Resolution:
<input id="plotResolution" type="number" value="15" min="5" max="50">

<button onclick="generatePlots()">Generate plots for wires</button>

<div id="plots"></div>


<script src="app.js"></script>
</body>
</html>
